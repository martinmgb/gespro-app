<ul class="alert alert-danger" *ngIf="errors?.length > 0">
  <li *ngFor="let err of errors">
    {{err}}
  </li>
</ul>

<div class="card bg-light">
  <div class="card-header">{{ titulo }}</div>
  <div class="card-body">

    <form [formGroup]="form">

      <div class="form-group row">
        <div class="col-sm-6">
          <mat-form-field>
            <mat-label>Nombre</mat-label>
            <input placeholder="Nombre" formControlName="nombre" matInput type="text">
            <div class="messages" *ngIf="nombreField.touched && nombreField.invalid">
              <mat-error *ngIf="nombreField.hasError('required')">
                Nombre es requerido
              </mat-error>
              <mat-error *ngIf="nombreField.hasError('minlength')">
                Nombre debe tener al menos 4 caracteres
              </mat-error>
            </div>
          </mat-form-field>
        </div>
      </div>


      <div class="form-group row">
        <div class="col-sm-2">
          <mat-form-field>
            <mat-label>Nombre Abreviado</mat-label>
            <input placeholder="Nombre Abreviado" formControlName="nombreAbreviado" matInput type="text">
            <div class="messages" *ngIf="nombreAbreviadoField.touched && nombreAbreviadoField.invalid">
              <mat-error *ngIf="nombreAbreviadoField.hasError('required')">
                Nombre abreviado es requerido
              </mat-error>
              <mat-error *ngIf="nombreAbreviadoField.hasError('minlength')">
                Nombre abreviado debe tener al menos 2 caracteres
              </mat-error>
            </div>
          </mat-form-field>
        </div>
      </div>

      <div class="form-group row">
        <div class="col-sm-12 d-flex justify-content-center">
          <button mat-raised-button color="primary" (click)="create()" *ngIf="isNew else elseBlock" [disabled]="!form.valid">Crear</button>
          <ng-template #elseBlock>
            <button mat-raised-button color="primary" (click)="update()" [disabled]="!form.valid">Editar</button>
          </ng-template>
        </div>
      </div>

    </form>
  </div>
</div>
